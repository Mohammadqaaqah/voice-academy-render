<div class="exercise hard-level" onclick="startExercise('speed')">
                        <div>
                            <i class="fas fa-tachometer-alt" style="color: #e91e63;"></i>
                            <h3>تمارين السرعة والطلاقة</h3>
                            <p>تحسين سرعة النطق والطلاقة في الكلام مع الحفاظ على الوضوح</p>
                        </div>
                        <span class="difficulty hard">متقدم</span>
                    </div>

                    <div class="exercise hard-level" onclick="startExercise('presentation')">
                        <div>
                            <i class="fas fa-presentation-screen" style="color: #3f51b5;"></i>
                            <h3>العروض التقديمية</h3>
                            <p>إتقان فن العروض التقديمية المؤثرة والإقناع المهني</p>
                        </div>
                        <span class="difficulty hard">متقدم</span>
                    </div>

                    <div class="exercise hard-level" onclick="startExercise('debate')">
                        <div>
                            <i class="fas fa-comments" style="color: #607d8b;"></i>
                            <h3>تمارين النقاش والجدل</h3>
                            <p>تطوير مهارات الحوار والنقاش المنطقي والإقناع</p>
                        </div>
                        <span class="difficulty hard">متقدم</span>
                    </div>

                    <div class="exercise hard-level" onclick="startExercise('news')">
                        <div>
                            <i class="fas fa-broadcast-tower" style="color: #ff9800;"></i>
                            <h3>الإخبار الإذاعي</h3>
                            <p>إتقان فن قراءة الأخبار والتقارير بمهنية عالية</p>
                        </div>
                        <span class="difficulty hard">متقدم</span>
                    </div>

                    <div class="exercise hard-level" onclick="startExercise('advanced')">
                        <div>
                            <i class="fas fa-crown" style="color: #667eea;"></i>
                            <h3>التحدي المتقدم الشامل</h3>
                            <p>تمرين شامل يجمع جميع المهارات الصوتية في تحدٍ واحد</p>
                        </div>
                        <span class="difficulty hard">متقدم</span>
                    </div>
                </div>
            </div>

            <div id="analysis" class="tab-panel">
                <div class="coming-soon">
                    <i class="fas fa-chart-line"></i>
                    <h2>التحليل الذكي للأداء</h2>
                    <p>أكمل تمريناً أولاً لترى تحليلاً مفصلاً لأدائك الصوتي</p>
                    <div style="margin-top: 20px; color: #999;">
                        <i class="fas fa-microphone" style="margin-left: 10px;"></i>
                        ابدأ التسجيل لرؤية التحليل
                    </div>
                </div>
            </div>

            <div id="progress" class="tab-panel">
                <div id="progressContent" class="coming-soon">
                    <i class="fas fa-trophy"></i>
                    <h2>تقرير التقدم والإنجازات</h2>
                    <p>ستظهر إحصائياتك وشهاداتك وإنجازاتك في هذا القسم</p>
                    <div style="margin-top: 20px; color: #999;">
                        <i class="fas fa-medal" style="margin-left: 10px;"></i>
                        ابدأ التدريب لترى إنجازاتك
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="exercisePage" class="exercise-page">
        <button class="back-btn" onclick="backToTraining()">
            <i class="fas fa-arrow-right"></i> العودة للتدريب
        </button>
        
        <div class="exercise-header">
            <i id="exerciseIcon" class="fas fa-lungs" style="font-size: 60px; color: #667eea; margin-bottom: 20px;"></i>
            <h1 id="exerciseTitle">تمرين التنفس</h1>
            <p id="exerciseDescription">تحسين التحكم في التنفس والإيقاع الصوتي</p>
        </div>

        <div class="exercise-content">
            <div class="exercise-instructions">
                <h3><i class="fas fa-info-circle"></i> تعليمات التمرين:</h3>
                <div id="exerciseInstructions"></div>
            </div>

            <div id="exerciseText" class="exercise-text">
                <h4><i class="fas fa-quote-right"></i> النص المطلوب:</h4>
                <p id="practiceText"></p>
            </div>

            <div class="exercise-controls">
                <button id="recordBtn" class="btn-round btn-record" onclick="startRecording()">
                    <i class="fas fa-microphone"></i>
                </button>
                <button id="playBtn" class="btn-round btn-play" onclick="playRecording()" disabled>
                    <i class="fas fa-play"></i>
                </button>
                <button id="stopBtn" class="btn-round btn-stop" onclick="stopRecording()" disabled>
                    <i class="fas fa-stop"></i>
                </button>
            </div>

            <div class="progress-bar">
                <div id="progressFill" class="progress-fill"></div>
            </div>

            <div style="text-align: center; margin-top: 20px;">
                <p id="exerciseStatus">اضغط على زر التسجيل لبدء التمرين</p>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-primary" onclick="completeExercise()" style="max-width: 250px;">
                    <i class="fas fa-check"></i>
                    إنهاء التمرين
                </button>
            </div>
        </div>
    </div>

    <div id="alert" class="alert">
        <i class="fas fa-check-circle"></i>
        <span id="alertText"></span>
    </div>

    <script>
        // متغيرات التطبيق
        let currentUserData = null;
        let isDemo = false;
        let currentExercise = null;
        let isRecording = false;
        let recordingTimer = null;
        let recordingDuration = 0;
        let mediaRecorder = null;
        let recordedChunks = [];
        let analysisData = [];

        // بيانات التمارين
        const exerciseData = {
            breathing: {
                title: 'تمارين التنفس العميق',
                icon: 'fas fa-lungs',
                color: '#4caf50',
                description: 'تحسين التحكم في التنفس والإيقاع الصوتي',
                instructions: [
                    'اجلس في وضعية مريحة ومستقيمة مع استرخاء الكتفين',
                    'ضع يدك اليمنى على صدرك واليسرى على بطنك',
                    'خذ نفساً عميقاً من الأنف لمدة 4 ثوان مع رفع البطن',
                    'احبس النفس لمدة 4 ثوان مع الحفاظ على الاسترخاء',
                    'اخرج النفس من الفم ببطء لمدة 6 ثوان',
                    'كرر هذه العملية 5-7 مرات مع التسجيل المستمر'
                ],
                practiceText: null,
                hasText: false
            },
            meditation: {
                title: 'التأمل الصوتي',
                icon: 'fas fa-spa',
                color: '#4caf50',
                description: 'تحسين الاسترخاء والتحكم في الصوت',
                instructions: [
                    'اقرأ النص بصوت هادئ ومطمئن',
                    'استخدم نبرة مريحة ومهدئة للأعصاب',
                    'تحدث ببطء شديد مع تنفس عميق',
                    'اجعل صوتك يبعث على الهدوء والسكينة',
                    'استخدم التوقفات الطويلة للتأمل'
                ],
                practiceText: 'أغمض عينيك وتنفس بعمق. اشعر بالهدوء يملأ جسدك. كل شهيق يجلب لك السكينة وكل زفير يحمل التوتر بعيداً عنك.',
                hasText: true
            },
            pronunciation: {
                title: 'تمارين النطق المتقدم',
                icon: 'fas fa-spell-check',
                color: '#2196f3',
                description: 'تحسين وضوح النطق ومخارج الحروف',
                instructions: [
                    'اقرأ النص ببطء شديد في البداية مع التركيز على كل حرف',
                    'ركز على مخارج الحروف الصحيحة وخاصة الحروف المتشابهة',
                    'اهتم بالتنغيم والإيقاع المناسب مع معنى الجملة',
                    'تحدث بسرعة متوسطة ومريحة دون عجلة'
                ],
                practiceText: 'الصوت الواضح يعكس شخصية قوية ومؤثرة في المجتمع. التدريب المستمر على النطق الصحيح يساعد في تحسين الثقة بالنفس.',
                hasText: true
            },
            articulation: {
                title: 'تمارين التلفظ والمخارج',
                icon: 'fas fa-volume-up',
                color: '#795548',
                description: 'تقوية عضلات الفم وتحسين مخارج الحروف',
                instructions: [
                    'ركز على تحريك الشفاه واللسان بوضوح',
                    'انطق كل حرف من مخرجه الصحيح',
                    'اهتم بالحروف الصعبة مثل الضاد والظاء',
                    'كرر الكلمات الصعبة عدة مرات ببطء'
                ],
                practiceText: 'ضابط ضبط ضباط الضباع في ضاحية الضباع. ظل الظليم في ظل الظلام ظالماً ظلوماً. قال القائل في قول مقول.',
                hasText: true
            },
            expression: {
                title: 'تمارين التعبير العاطفي',
                icon: 'fas fa-theater-masks',
                color: '#9c27b0',
                description: 'تطوير القدرة على التعبير العاطفي والتنويع الصوتي',
                instructions: [
                    'اقرأ النص بمشاعر مختلفة ومتدرجة',
                    'ابدأ بتعبير الفرح والسعادة مع رفع طبقة الصوت قليلاً',
                    'ثم جرب التعبير بجدية ووقار مع خفض الطبقة',
                    'اختتم بتعبير عن الحماس والطاقة مع تنويع الإيقاع'
                ],
                practiceText: 'التدريب المستمر يؤدي إلى النجاح المضمون والتطوير الحقيقي للمهارات. كل خطوة نخطوها في رحلة التعلم تقربنا أكثر من تحقيق أهدافنا.',
                hasText: true
            },
            confidence: {
                title: 'تمارين بناء الثقة',
                icon: 'fas fa-user-tie',
                color: '#ff9800',
                description: 'بناء الثقة بالنفس والحضور المؤثر',
                instructions: [
                    'قف بوضعية واثقة ومستقيمة مع فرد الكتفين',
                    'تحدث بصوت واضح وقوي دون صراخ أو همس',
                    'احتفظ بإيقاع ثابت ومدروس مع توقفات مؤثرة',
                    'استخدم التوكيد في الكلمات المهمة'
                ],
                practiceText: 'أنا واثق من قدراتي وأسعى للتميز في كل ما أقوم به بعزيمة وإصرار. لدي الإرادة القوية والعزيمة الصلبة لتحقيق النجاح.',
                hasText: true
            },
            storytelling: {
                title: 'تمارين السرد والحكي',
                icon: 'fas fa-book-open',
                color: '#ff5722',
                description: 'تطوير مهارات السرد والتشويق',
                instructions: [
                    'اقرأ القصة وكأنك تحكيها لطفل',
                    'استخدم أصواتاً مختلفة للشخصيات',
                    'اجعل صوتك يعبر عن الأحداث والمشاعر',
                    'استخدم التوقفات لبناء التشويق'
                ],
                practiceText: 'في قديم الزمان، كان هناك طائر صغير يحلم بأن يطير عالياً فوق الجبال. كل صباح كان يقف على غصن الشجرة ويحرك جناحيه الصغيرين.',
                hasText: true
            },
            speed: {
                title: 'تمارين السرعة والطلاقة',
                icon: 'fas fa-tachometer-alt',
                color: '#e91e63',
                description: 'تحسين سرعة النطق والطلاقة في الكلام',
                instructions: [
                    'اقرأ النص بسرعة متدرجة من البطء إلى السرعة',
                    'ابدأ ببطء شديد مع التركيز على الوضوح',
                    'زد السرعة تدريجياً مع الحفاظ على الوضوح',
                    'تجنب التعثر أو التوقف المفاجئ'
                ],
                practiceText: 'خيط حرير على حائط خليل، خليل علق خيط حرير على حائط خليل. نحن نحب نجاح ناجح ونجح نجاحنا في نجاح الناجحين.',
                hasText: true
            },
            presentation: {
                title: 'تمارين العرض التقديمي',
                icon: 'fas fa-presentation-screen',
                color: '#3f51b5',
                description: 'إتقان فن العروض التقديمية المؤثرة',
                instructions: [
                    'تحدث وكأنك تقدم عرضاً مهماً أمام مديرك',
                    'استخدم لغة جسد واثقة حتى لو لا أحد يراك',
                    'اجعل صوتك محترفاً ومقنعاً',
                    'استخدم التوقفات الاستراتيجية'
                ],
                practiceText: 'السيدات والسادة، أقدم لكم اليوم مشروعاً استراتيجياً سيغير مستقبل شركتنا. هذا المشروع ليس مجرد فكرة، بل خطة محكمة مدروسة بعناية.',
                hasText: true
            },
            debate: {
                title: 'تمارين النقاش والجدل',
                icon: 'fas fa-comments',
                color: '#607d8b',
                description: 'تطوير مهارات الحوار والنقاش المنطقي',
                instructions: [
                    'اقرأ النص وكأنك تدافع عن رأيك بقوة',
                    'استخدم نبرة مقنعة ولكن محترمة',
                    'اجعل كل حجة واضحة ومنطقية',
                    'استخدم التأكيدات في المواضع المناسبة'
                ],
                practiceText: 'إن التعليم الإلكتروني ليس بديلاً عن التعليم التقليدي، بل مكملاً له. أولاً، يوفر المرونة في التعلم. ثانياً، يتيح الوصول للمعرفة من أي مكان.',
                hasText: true
            },
            news: {
                title: 'تمارين الإخبار الإذاعي',
                icon: 'fas fa-broadcast-tower',
                color: '#ff9800',
                description: 'إتقان فن قراءة الأخبار والتقارير',
                instructions: [
                    'اقرأ النشرة بجدية ومصداقية',
                    'حافظ على وضوح تام في كل كلمة',
                    'استخدم نبرة إخبارية متوازنة',
                    'اجعل صوتك يعكس أهمية الخبر'
                ],
                practiceText: 'نشرة الأخبار - الساعة الثامنة مساءً. شهدت العاصمة اليوم فعاليات مؤتمر التكنولوجيا السنوي بمشاركة خبراء دوليين. المؤتمر ناقش أحدث التطورات.',
                hasText: true
            },
            advanced: {
                title: 'التحدي المتقدم الشامل',
                icon: 'fas fa-crown',
                color: '#667eea',
                description: 'تمرين شامل يجمع جميع المهارات الصوتية',
                instructions: [
                    'ابدأ بتمرين التنفس العميق لمدة 30 ثانية',
                    'اقرأ النص بوضوح ودقة مثالية مع التحكم الكامل',
                    'استخدم التعبير العاطفي المناسب لكل جملة',
                    'اظهر الثقة والحضور القوي في كل كلمة'
                ],
                practiceText: 'التميز في فن الإلقاء والخطابة يتطلب الصبر والممارسة المستمرة والإيمان العميق بالقدرات الذاتية. المتحدث المحترف يجمع بين وضوح النطق وقوة التعبير.',
                hasText: true
            }
        };

        // عرض رسالة تنبيه
        function showAlert(message, type = 'success') {
            const alert = document.getElementById('alert');
            const alertText = document.getElementById('alertText');
            const icon = alert.querySelector('i');
            
            alertText.textContent = message;
            alert.className = `alert ${type} show`;
            
            if (type === 'error') {
                icon.className = 'fas fa-exclamation-circle';
            } else {
                icon.className = 'fas fa-check-circle';
            }
            
            setTimeout(() => {
                alert.classList.remove('show');
            }, 4000);
        }

        // بدء التطبيق
        function startApp() {
            const nameInput = document.getElementById('userName');
            const levelSelect = document.getElementById('userLevel');
            const goalSelect = document.getElementById('trainingGoal');
            
            const name = nameInput.value.trim();
            const level = levelSelect.value;
            const goal = goalSelect.value;

            if (!name) {
                showAlert('يرجى إدخال اسمك الكامل', 'error');
                nameInput.focus();
                return;
            }

            if (name.length < 2) {
                showAlert('الاسم يجب أن يكون أكثر من حرفين', 'error');
                nameInput.focus();
                return;
            }

            currentUserData = { 
                name: name, 
                level: level, 
                goal: goal,
                joinDate: new Date().toISOString(),
                exercises: 0
            };
            
            isDemo = false;
            switchToMainApp(name);
            showAlert(`أهلاً وسهلاً ${name}! تم تسجيل دخولك بنجاح 🎉`, 'success');
        }

        // بدء العرض التوضيحي
        function startDemo() {
            currentUserData = { 
                name: 'مستخدم تجريبي', 
                level: 'intermediate', 
                goal: 'general',
                joinDate: new Date().toISOString(),
                exercises: 0
            };
            
            isDemo = true;
            switchToMainApp('مستخدم تجريبي');
            showAlert('مرحباً بك في العرض التوضيحي! 🎭', 'success');
        }

        // الانتقال للواجهة الرئيسية
        function switchToMainApp(userName) {
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('mainApp').style.display = 'block';
            document.getElementById('exercisePage').style.display = 'none';
            document.getElementById('currentUser').textContent = userName;
        }

        // عرض التبويب
        function showTab(tabName, tabElement) {
            const allTabs = document.querySelectorAll('.tab');
            const allPanels = document.querySelectorAll('.tab-panel');
            
            allTabs.forEach(tab => tab.classList.remove('active'));
            allPanels.forEach(panel => panel.classList.remove('active'));

            if (tabElement) {
                tabElement.classList.add('active');
            }
            
            const targetPanel = document.getElementById(tabName);
            if (targetPanel) {
                targetPanel.classList.add('active');
            }

            document.getElementById('mainApp').style.display = 'block';
            document.getElementById('exercisePage').style.display = 'none';
        }

        // الانتقال للتدريب
        function goToTraining() {
            showTab('training', document.querySelector('.tab:nth-child(2)'));
        }

        // فلترة التمارين
        function filterExercises(level) {
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.querySelector(`[onclick="filterExercises('${level}')"]`).classList.add('active');
            
            const exercises = document.querySelectorAll('.exercise');
            exercises.forEach(exercise => {
                if (level === 'all') {
                    exercise.style.display = 'flex';
                } else {
                    const isVisible = exercise.classList.contains(`${level}-level`);
                    exercise.style.display = isVisible ? 'flex' : 'none';
                }
            });
        }

        // بدء التمرين
        function startExercise(exerciseType) {
            currentExercise = exerciseType;
            const exercise = exerciseData[exerciseType];
            
            if (!exercise) {
                showAlert('نوع التمرين غير صحيح', 'error');
                return;
            }

            document.getElementById('exerciseIcon').className = exercise.icon;
            document.getElementById('exerciseIcon').style.color = exercise.color;
            document.getElementById('exerciseTitle').textContent = exercise.title;
            document.getElementById('exerciseDescription').textContent = exercise.description;

            const instructionsDiv = document.getElementById('exerciseInstructions');
            instructionsDiv.innerHTML = '<p>اتبع الخطوات التالية لأداء التمرين بشكل صحيح:</p><ol>';
            exercise.instructions.forEach(instruction => {
                instructionsDiv.innerHTML += `<li>${instruction}</li>`;
            });
            instructionsDiv.innerHTML += '</ol>';

            const exerciseTextDiv = document.getElementById('exerciseText');
            const practiceTextP = document.getElementById('practiceText');
            
            if (exercise.hasText && exercise.practiceText) {
                exerciseTextDiv.style.display = 'block';
                practiceTextP.textContent = exercise.practiceText;
            } else {
                exerciseTextDiv.style.display = 'none';
            }

            document.getElementById('mainApp').style.display = 'none';
            document.getElementById('exercisePage').style.display = 'block';
            document.getElementById('exercisePage').classList.add('show');

            resetExerciseState();

            if (currentUserData) {
                currentUserData.exercises++;
            }

            showAlert(`🎯 تم بدء ${exercise.title} بنجاح!`, 'success');
        }

        // العودة لصفحة التدريب
        function backToTraining() {
            document.getElementById('exercisePage').style.display = 'none';
            document.getElementById('mainApp').style.display = 'block';
            
            showTab('training', document.querySelector('.tab:nth-child(2)'));
            
            if (isRecording) {
                stopRecording();
            }
            
            currentExercise = null;
        }

        // إعادة تعيين حالة التمرين
        function resetExerciseState() {
            isRecording = false;
            recordingDuration = 0;
            recordedChunks = [];
            
            document.getElementById('recordBtn').disabled = false;
            document.getElementById('playBtn').disabled = true;
            document.getElementById('stopBtn').disabled = true;
            
            document.getElementById('progressFill').style.width = '0%';
            document.getElementById('exerciseStatus').textContent = 'اضغط على زر التسجيل لبدء التمرين';
            
            if (recordingTimer) {
                clearInterval(recordingTimer);
                recordingTimer = null;
            }
        }

        // بدء التسجيل
        async function startRecording() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                
                mediaRecorder = new MediaRecorder(stream);
                recordedChunks = [];
                
                mediaRecorder.ondataavailable = function(event) {
                    if (event.data.size > 0) {
                        recordedChunks.push(event.data);
                    }
                };
                
                mediaRecorder.onstop = function() {
                    document.getElementById('playBtn').disabled = false;
                };
                
                mediaRecorder.start();
                isRecording = true;
                recordingDuration = 0;
                
                document.getElementById('recordBtn').disabled = true;
                document.getElementById('stopBtn').disabled = false;
                document.getElementById('exerciseStatus').textContent = 'جاري التسجيل... 🎙️';
                
                recordingTimer = setInterval(() => {
                    recordingDuration++;
                    const progress = Math.min((recordingDuration / 30) * 100, 100);
                    document.getElementById('progressFill').style.width = progress + '%';
                    document.getElementById('exerciseStatus').textContent = `جاري التسجيل... ${recordingDuration}s 🎙️`;
                    
                    if (recordingDuration >= 30) {
                        stopRecording();
                    }
                }, 1000);
                
                showAlert('تم بدء التسجيل بنجاح! 🎙️', 'success');
                
            } catch (error) {
                showAlert('تعذر الوصول للميكروفون. يرجى السماح بالوصول للميكروفون', 'error');
            }
        }

        // إيقاف التسجيل
        function stopRecording() {
            if (mediaRecorder && isRecording) {
                mediaRecorder.stop();
                isRecording = false;
                
                mediaRecorder.stream.getTracks().forEach(track => track.stop());
                
                if (recordingTimer) {
                    clearInterval(recordingTimer);
                    recordingTimer = null;
                }
                
                document.getElementById('recordBtn').disabled = false;
                document.getElementById('stopBtn').disabled = true;
                document.getElementById('exerciseStatus').textContent = `تم التسجيل بنجاح! المدة: ${recordingDuration} ثانية ✅`;
                
                showAlert('تم إيقاف التسجيل بنجاح! ✅', 'success');
            }
        }

        // تشغيل التسجيل
        function playRecording() {
            if (recordedChunks.length > 0) {
                const blob = new Blob(recordedChunks, { type: 'audio/wav' });
                const audioUrl = URL.createObjectURL(blob);
                const audio = new Audio(audioUrl);
                
                audio.play().then(() => {
                    document.getElementById('exerciseStatus').textContent = 'جاري تشغيل التسجيل... 🔊';
                    showAlert('جاري تشغيل التسجيل... 🔊', 'success');
                }).catch(error => {
                    showAlert('تعذر تشغيل التسجيل', 'error');
                });
                
                audio.onended = () => {
                    document.getElementById('exerciseStatus').textContent = 'انتهى التشغيل ✅';
                };
            } else {
                showAlert('لا يوجد تسجيل للتشغيل', 'error');
            }
        }

        // إنهاء التمرين مع التحليل
        function completeExercise() {
            if (currentExercise && recordingDuration > 0) {
                const exercise = exerciseData[currentExercise];
                
                // إجراء التحليل
                const analysis = generateAnalysis(currentExercise, recordingDuration, currentUserData.level);
                
                showAlert(`🎉 تم إنهاء ${exercise.title} بنجاح! جاري التحليل...`, 'success');
                
                // حفظ التحليل
                if (currentUserData) {
                    if (!currentUserData.analyses) {
                        currentUserData.analyses = [];
                    }
                    currentUserData.analyses.push(analysis);
                }
                
                // عرض نتائج التحليل
                setTimeout(() => {
                    showAnalysisResults(analysis);
                }, 1500);
                
            } else {
                showAlert('يرجى تسجيل صوت أولاً قبل إنهاء التمرين', 'error');
            }
        }

        // تحليل الأداء
        function generateAnalysis(exerciseType, duration, userLevel) {
            const baseScore = 75 + Math.floor(Math.random() * 20);
            const clarity = 70 + Math.floor(Math.random() * 25);
            const pace = 65 + Math.floor(Math.random() * 30);
            const confidence = 60 + Math.floor(Math.random() * 35);
            const pronunciation = 68 + Math.floor(Math.random() * 27);
            const expressiveness = 62 + Math.floor(Math.random() * 33);

            const analysis = {
                overallScore: baseScore,
                clarity: clarity,
                pace: pace,
                confidence: confidence,
                pronunciation: pronunciation,
                expressiveness: expressiveness,
                timestamp: new Date(),
                exerciseType: exerciseType,
                duration: duration,
                recommendations: [
                    'ركز على التنفس العميق قبل البدء بالتمرين',
                    'حاول التدرب يومياً لمدة 10-15 دقيقة',
                    'استخدم التوقفات المدروسة لتعزيز المعنى'
                ]
            };
            
            analysisData.push(analysis);
            return analysis;
        }

        // عرض نتائج التحليل
        function showAnalysisResults(analysis) {
            document.getElementById('exercisePage').style.display = 'none';
            document.getElementById('mainApp').style.display = 'block';
            showTab('analysis', document.querySelector('.tab:nth-child(3)'));
            
            updateAnalysisDisplay(analysis);
        }

        // تحديث عرض التحليل
        function updateAnalysisDisplay(analysis) {
            const analysisPanel = document.getElementById('analysis');
            
            analysisPanel.innerHTML = `
                <div style="background: white; border-radius: 15px; padding: 30px; margin: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <div style="text-align: center; margin-bottom: 30px;">
                        <i class="fas fa-brain" style="font-size: 50px; color: #667eea; margin-bottom: 15px;"></i>
                        <h2>تحليل الأداء الصوتي</h2>
                        <p style="color: #666;">تحليل متقدم بتقنية الذكاء الاصطناعي</p>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center; border-left: 4px solid #4caf50;">
                            <div style="font-size: 32px; font-weight: bold; color: #4caf50; margin-bottom: 5px;">${analysis.overallScore}%</div>
                            <div style="color: #666;">التقييم العام</div>
                        </div>
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center; border-left: 4px solid #2196f3;">
                            <div style="font-size: 32px; font-weight: bold; color: #2196f3; margin-bottom: 5px;">${analysis.clarity}%</div>
                            <div style="color: #666;">وضوح الصوت</div>
                        </div>
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center; border-left: 4px solid #ff9800;">
                            <div style="font-size: 32px; font-weight: bold; color: #ff9800; margin-bottom: 5px;">${analysis.pace}%</div>
                            <div style="color: #666;">سرعة الكلام</div>
                        </div>
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center; border-left: 4px solid #9c27b0;">
                            <div style="font-size: 32px; font-weight: bold; color: #9c27b0; margin-bottom: 5px;">${analysis.confidence}%</div>
                            <div style="color: #666;">الثقة بالنفس</div>
                        </div>
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center; border-left: 4px solid #e91e63;">
                            <div style="font-size: 32px; font-weight: bold; color: #e91e63; margin-bottom: 5px;">${analysis.pronunciation}%</div>
                            <div style="color: #666;">دقة النطق</div>
                        </div>
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center; border-left: 4px solid #607d8b;">
                            <div style="font-size: 32px; font-weight: bold; color: #607d8b; margin-bottom: 5px;">${analysis.expressiveness}%</div>
                            <div style="color: #666;">التعبير العاطفي</div>
                        </div>
                    </div>

                    <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #2196f3;">
                        <h3 style="color: #1976d2; margin-bottom: 15px;"><i class="fas fa-lightbulb"></i> توصيات للتحسين:</h3>
                        <ul style="margin: 0; padding-right: 20px;">
                            ${analysis.recommendations.map(rec => `<li style="margin-bottom: 8px; color: #333;">${rec}</li>`).join('')}
                        </ul>
                    </div>

                    <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                        <button class="btn btn-primary" onclick="goToTraining()" style="max-width: 200px;">
                            <i class="fas fa-redo"></i>
                            تمرين آخر
                        </button>
                        <button class="btn" onclick="shareToWhatsApp()" style="background: #25d366; color: white; max-width: 200px;">
                            <i class="fab fa-whatsapp"></i>
                            مشاركة واتساب
                        </button>
                    </div>

                    <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #eee; text-align: center; color: #999; font-size: 14px;">
                        <i class="fas fa-clock"></i> تم التحليل في: ${analysis.timestamp.toLocaleString('ar-SA')}
                        <br>
                        مدة التسجيل: ${analysis.duration} ثانية | نوع التمرين: ${exerciseData[analysis.exerciseType].title}
                    </div>
                </div>
            `;
        }

        // مشاركة عبر واتساب
        function shareToWhatsApp() {
            const latestAnalysis = analysisData[analysisData.length - 1];
            if (!latestAnalysis) {
                showAlert('لا توجد نتائج للمشاركة', 'error');
                return;
            }

            const userName = currentUserData ? currentUserData.name : 'المستخدم';
            const exerciseTitle = exerciseData[latestAnalysis.exerciseType].title;
            
            const whatsappMessage = `🎙️ *نتائج التحليل الصوتي - أكاديمية أمريكان كوليدج*

👤 *الاسم:* ${userName}
🎯 *نوع التمرين:* ${exerciseTitle}
⏱️ *مدة التسجيل:* ${latestAnalysis.duration} ثانية

📊 *النتائج:*
🎖️ التقييم العام: *${latestAnalysis.overallScore}%*
🔊 وضوح الصوت: *${latestAnalysis.clarity}%*
⚡ سرعة الكلام: *${latestAnalysis.pace}%*
💪 الثقة بالنفس: *${latestAnalysis.confidence}%*

🎓 تم التحليل بواسطة أكاديمية أمريكان كوليدج
#تطوير_المهارات #تدريب_صوتي #أكاديمية_أمريكان_كوليدج`;

            const encodedMessage = encodeURIComponent(whatsappMessage);
            const whatsappUrl = `https://wa.me/?text=${encodedMessage}`;
            
            window.open(whatsappUrl, '_blank');
            showAlert('تم فتح واتساب لمشاركة النتائج! 💚', 'success');
        }

        // تسجيل الخروج
        function logout() {
            const confirmMessage = isDemo ? 
                'هل تريد الخروج من العرض التوضيحي؟' : 
                'هل تريد تسجيل الخروج؟';

            if (confirm(confirmMessage)) {
                if (isRecording) {
                    stopRecording();
                }
                
                currentUserData = null;
                isDemo = false;
                currentExercise = null;
                
                document.getElementById('mainApp').style.display = 'none';
                document.getElementById('exercisePage').style.display = 'none';
                document.getElementById('loginScreen').style.display = 'block';
                
                document.getElementById('userName').value = '';
                document.getElementById('userLevel').selectedIndex = 0;
                document.getElementById('trainingGoal').selectedIndex = 0;
                
                showTab('dashboard', document.querySelector('.tab'));
                
                showAlert('تم تسجيل الخروج بنجاح', 'success');
            }
        }

        // تحميل التطبيق
        document.addEventListener('DOMContentLoaded', function() {
            const userNameInput = document.getElementById('userName');
            
            if (userNameInput) {
                userNameInput.addEventListener('keypress', function(event) {
                    if (event.key === 'Enter') {
                        startApp();
                    }
                });

                setTimeout(() => {
                    userNameInput.focus();
                }, 500);
            }

            document.body.style.opacity = '0';
            setTimeout(() => {
                document.body.style.transition = 'opacity 0.5s ease-in';
                document.body.style.opacity = '1';
            }, 100);

            console.log('✅ أكاديمية أمريكان كوليدج - جاهزة للعمل!');
        });

        // معالج الأخطاء العام
        window.addEventListener('error', function(event) {
            console.error('حدث خطأ:', event.error);
            showAlert('حدث خطأ غير متوقع، يرجى المحاولة مرة أخرى', 'error');
        });

        console.log('🎯 التطبيق جاهز ويعمل بكامل وظائفه!');
    </script>
</body>
</html><!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎙️ أكاديمية أمريكان كوليدج</title>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/brands.min.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://drive.google.com/uc?export=view&id=1IU_D6lHBDJVwtAVfrKZFDtg7Lo46oWQs');
            background-size: 400px 400px;
            background-repeat: no-repeat;
            background-position: center center;
            opacity: 0.03;
            z-index: -1;
            pointer-events: none;
        }

        .login-logo {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background-image: url('https://drive.google.com/uc?export=view&id=1IU_D6lHBDJVwtAVfrKZFDtg7Lo46oWQs');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0.1;
            z-index: 1;
        }

        .nav-logo {
            width: 30px;
            height: 30px;
            background-image: url('https://drive.google.com/uc?export=view&id=1IU_D6lHBDJVwtAVfrKZFDtg7Lo46oWQs');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            margin-left: 10px;
            opacity: 0.7;
        }

        .container {
            max-width: 500px;
            margin: 50px auto;
            padding: 20px;
        }

        .card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
            animation: slideUp 0.6s ease-out;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }

        .header i {
            font-size: 50px;
            margin-bottom: 15px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .content {
            padding: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            font-family: 'Cairo', Arial, sans-serif;
            transition: all 0.3s ease;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.2);
        }

        .btn {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 10px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-family: 'Cairo', Arial, sans-serif;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-demo {
            background: linear-gradient(135deg, #FF9800 0%, #FF5722 100%);
            color: white;
        }

        .btn-demo:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 152, 0, 0.4);
        }

        .main-app {
            display: none;
            min-height: 100vh;
            background: #f5f7fa;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .nav {
            background: white;
            padding: 15px 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-brand {
            font-size: 20px;
            font-weight: 700;
            color: #667eea;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-user {
            color: #555;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logout-btn {
            background: none;
            border: none;
            color: #666;
            cursor: pointer;
            font-size: 16px;
            padding: 5px 10px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            background: #f8f9fa;
            color: #667eea;
        }

        .tabs {
            background: white;
            display: flex;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            background: white;
            border: none;
            color: #666;
            font-weight: 600;
            transition: all 0.3s ease;
            font-family: 'Cairo', Arial, sans-serif;
        }

        .tab.active {
            color: #667eea;
            background: rgba(102, 126, 234, 0.05);
            border-bottom: 3px solid #667eea;
        }

        .tab:hover {
            background: #f8f9fa;
        }

        .tab-content {
            padding: 30px;
        }

        .tab-panel {
            display: none;
            animation: slideIn 0.4s ease-out;
        }

        .tab-panel.active {
            display: block;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .exercises {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin-top: 30px;
            padding: 0 20px;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        .exercise {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border: 2px solid transparent;
            position: relative;
            min-height: 220px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .exercise:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
            border-color: #667eea;
        }

        .exercise i {
            font-size: 45px;
            margin-bottom: 15px;
            transition: transform 0.3s ease;
        }

        .exercise:hover i {
            transform: scale(1.1);
        }

        .exercise h3 {
            margin-bottom: 10px;
            color: #333;
            font-size: 18px;
            font-weight: 700;
        }

        .exercise p {
            color: #666;
            margin-bottom: 15px;
            font-size: 14px;
            line-height: 1.6;
            flex-grow: 1;
        }

        .difficulty {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: inline-block;
            margin-top: auto;
        }

        .easy { 
            background: linear-gradient(135deg, #e8f5e8, #c8e6c9); 
            color: #2e7d32; 
            border: 1px solid #4caf50;
        }
        
        .medium { 
            background: linear-gradient(135deg, #fff3e0, #ffe0b2); 
            color: #ef6c00; 
            border: 1px solid #ff9800;
        }
        
        .hard { 
            background: linear-gradient(135deg, #ffebee, #ffcdd2); 
            color: #c62828; 
            border: 1px solid #f44336;
        }

        .exercise-filters {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 12px 24px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Cairo', Arial, sans-serif;
            font-weight: 600;
            font-size: 14px;
            min-width: 80px;
        }

        .filter-btn:hover {
            background: rgba(102, 126, 234, 0.1);
            transform: translateY(-2px);
        }

        .filter-btn.active {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .alert {
            position: fixed;
            top: 20px;
            right: 20px;
            left: 20px;
            padding: 15px 25px;
            background: #4caf50;
            color: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            display: none;
            animation: slideDown 0.3s ease-out;
            max-width: 400px;
            margin: 0 auto;
        }

        @keyframes slideDown {
            from { transform: translateY(-100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .alert.show { 
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .alert.error { background: #f44336; }
        .alert.success { background: #4caf50; }

        .dashboard-welcome {
            text-align: center;
            padding: 50px;
            background: white;
            border-radius: 15px;
            margin: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .dashboard-welcome h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 28px;
        }

        .dashboard-welcome p {
            color: #666;
            font-size: 16px;
            margin-bottom: 30px;
        }

        .coming-soon {
            text-align: center;
            padding: 50px;
            background: white;
            border-radius: 15px;
            margin: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .coming-soon i {
            font-size: 60px;
            color: #667eea;
            margin-bottom: 20px;
        }

        .coming-soon h2 {
            color: #333;
            margin-bottom: 15px;
        }

        .coming-soon p {
            color: #666;
        }

        .exercise-page {
            display: none;
            min-height: 100vh;
            background: #f5f7fa;
            padding: 20px;
        }

        .exercise-page.show {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        .exercise-header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .exercise-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .exercise-instructions {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #2196f3;
        }

        .exercise-text {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #667eea;
            display: none;
        }

        .exercise-text h4 {
            color: #333;
            margin-bottom: 15px;
        }

        .exercise-text p {
            font-size: 18px;
            line-height: 1.8;
            color: #333;
            font-weight: 500;
            margin: 15px 0;
        }

        .exercise-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 20px 0;
        }

        .btn-round {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            font-size: 24px;
            color: white;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-record {
            background: #f44336;
        }

        .btn-play {
            background: #4caf50;
        }

        .btn-stop {
            background: #ff9800;
        }

        .btn-round:hover {
            transform: scale(1.1);
        }

        .btn-round:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .back-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 20px;
            font-family: 'Cairo', Arial, sans-serif;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: #5a6268;
        }

        @media (max-width: 768px) {
            .container { 
                margin: 20px; 
                padding: 15px; 
            }
            
            .tabs { 
                flex-direction: column; 
            }
            
            .exercises { 
                grid-template-columns: 1fr;
                gap: 20px;
                padding: 0 15px;
            }
            
            .exercise {
                padding: 20px;
                min-height: 200px;
            }
            
            .exercise i {
                font-size: 40px;
            }
            
            .exercise h3 {
                font-size: 16px;
            }
            
            .exercise p {
                font-size: 13px;
            }

            .nav {
                padding: 10px 15px;
            }

            .nav-brand {
                font-size: 16px;
            }

            .tab-content {
                padding: 15px;
            }

            .alert {
                right: 10px;
                left: 10px;
                top: 10px;
            }

            .exercise-controls {
                flex-wrap: wrap;
            }

            .filter-btn {
                padding: 10px 20px;
                font-size: 13px;
                min-width: 70px;
            }
        }

        @media (min-width: 769px) and (max-width: 1024px) {
            .exercises {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1025px) {
            .exercises {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            background: #4caf50;
            border-radius: 50%;
            margin-left: 8px;
            animation: blink 2s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }
    </style>
</head>
<body>
    <div id="loginScreen">
        <div class="login-logo"></div>
        <div class="container">
            <div class="card">
                <div class="header">
                    <i class="fas fa-microphone-alt"></i>
                    <h1>أكاديمية أمريكان كوليدج</h1>
                    <p>منصة تدريب متطورة للمهارات الصوتية</p>
                </div>
                <div class="content">
                    <div class="form-group">
                        <label>الاسم الكامل</label>
                        <input type="text" id="userName" placeholder="أدخل اسمك الكامل" maxlength="50">
                    </div>
                    
                    <div class="form-group">
                        <label>مستوى الخبرة</label>
                        <select id="userLevel">
                            <option value="beginner">مبتدئ</option>
                            <option value="intermediate">متوسط</option>
                            <option value="advanced">متقدم</option>
                            <option value="professional">محترف</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>هدفك من التدريب</label>
                        <select id="trainingGoal">
                            <option value="general">تحسين عام</option>
                            <option value="broadcasting">الإذاعة والتلفزيون</option>
                            <option value="podcasting">البودكاست</option>
                            <option value="presentations">العروض التقديمية</option>
                            <option value="voice_acting">التمثيل الصوتي</option>
                        </select>
                    </div>
                    
                    <button class="btn btn-primary" onclick="startApp()">
                        <i class="fas fa-rocket"></i>
                        بدء الرحلة التدريبية
                    </button>
                    
                    <button class="btn btn-demo" onclick="startDemo()">
                        <i class="fas fa-play"></i>
                        عرض توضيحي
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="mainApp" class="main-app">
        <nav class="nav">
            <div class="nav-brand">
                <i class="fas fa-microphone-alt"></i>
                أكاديمية أمريكان كوليدج
                <div class="nav-logo"></div>
                <span class="status-indicator"></span>
            </div>
            <div class="nav-user">
                مرحباً <span id="currentUser">المستخدم</span>
                <button class="logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </nav>

        <div class="tabs">
            <button class="tab active" onclick="showTab('dashboard', this)">
                <i class="fas fa-home"></i><br>
                الرئيسية
            </button>
            <button class="tab" onclick="showTab('training', this)">
                <i class="fas fa-dumbbell"></i><br>
                التدريب
            </button>
            <button class="tab" onclick="showTab('analysis', this)">
                <i class="fas fa-chart-line"></i><br>
                التحليل
            </button>
            <button class="tab" onclick="showTab('progress', this)">
                <i class="fas fa-trophy"></i><br>
                التقدم
            </button>
        </div>

        <div class="tab-content">
            <div id="dashboard" class="tab-panel active">
                <div class="dashboard-welcome">
                    <i class="fas fa-star" style="font-size: 50px; color: #667eea; margin-bottom: 20px;"></i>
                    <h2>مرحباً بك في أكاديمية أمريكان كوليدج!</h2>
                    <p>ابدأ رحلتك التدريبية لتطوير مهاراتك الصوتية والوصول للاحترافية</p>
                    <button class="btn btn-primary" onclick="goToTraining()" style="max-width: 300px;">
                        <i class="fas fa-play"></i>
                        ابدأ التدريب الآن
                    </button>
                </div>
            </div>

            <div id="training" class="tab-panel">
                <div style="text-align: center; margin-bottom: 30px;">
                    <h2>مركز التدريب المتقدم</h2>
                    <p style="color: #666; margin-bottom: 20px;">اختر التمرين المناسب لمستواك وهدفك من مجموعة شاملة من التمارين المتخصصة</p>
                    
                    <div class="exercise-filters">
                        <button class="filter-btn active" onclick="filterExercises('all')">الكل</button>
                        <button class="filter-btn" onclick="filterExercises('easy')">سهل</button>
                        <button class="filter-btn" onclick="filterExercises('medium')">متوسط</button>
                        <button class="filter-btn" onclick="filterExercises('hard')">متقدم</button>
                    </div>
                </div>
                
                <div class="exercises">
                    <div class="exercise easy-level" onclick="startExercise('breathing')">
                        <div>
                            <i class="fas fa-lungs" style="color: #4caf50;"></i>
                            <h3>تمارين التنفس العميق</h3>
                            <p>تحسين التحكم في التنفس والإيقاع الصوتي مع تقنيات التنفس المتقدمة</p>
                        </div>
                        <span class="difficulty easy">سهل</span>
                    </div>
                    
                    <div class="exercise easy-level" onclick="startExercise('meditation')">
                        <div>
                            <i class="fas fa-spa" style="color: #4caf50;"></i>
                            <h3>التأمل الصوتي</h3>
                            <p>تحسين الاسترخاء والتحكم في الصوت من خلال تقنيات التأمل</p>
                        </div>
                        <span class="difficulty easy">سهل</span>
                    </div>

                    <div class="exercise medium-level" onclick="startExercise('pronunciation')">
                        <div>
                            <i class="fas fa-spell-check" style="color: #2196f3;"></i>
                            <h3>تمارين النطق المتقدم</h3>
                            <p>تحسين وضوح النطق ومخارج الحروف مع تمارين متخصصة</p>
                        </div>
                        <span class="difficulty medium">متوسط</span>
                    </div>
                    
                    <div class="exercise medium-level" onclick="startExercise('articulation')">
                        <div>
                            <i class="fas fa-volume-up" style="color: #795548;"></i>
                            <h3>تمارين المخارج</h3>
                            <p>تقوية عضلات الفم وتحسين مخارج الحروف الصعبة</p>
                        </div>
                        <span class="difficulty medium">متوسط</span>
                    </div>
                    
                    <div class="exercise medium-level" onclick="startExercise('expression')">
                        <div>
                            <i class="fas fa-theater-masks" style="color: #9c27b0;"></i>
                            <h3>تمارين التعبير العاطفي</h3>
                            <p>تطوير القدرة على التعبير العاطفي والتنويع الصوتي المؤثر</p>
                        </div>
                        <span class="difficulty medium">متوسط</span>
                    </div>
                    
                    <div class="exercise medium-level" onclick="startExercise('confidence')">
                        <div>
                            <i class="fas fa-user-tie" style="color: #ff9800;"></i>
                            <h3>تمارين بناء الثقة</h3>
                            <p>بناء الثقة بالنفس والحضور المؤثر في المواقف المختلفة</p>
                        </div>
                        <span class="difficulty medium">متوسط</span>
                    </div>

                    <div class="exercise medium-level" onclick="startExercise('storytelling')">
                        <div>
                            <i class="fas fa-book-open" style="color: #ff5722;"></i>
                            <h3>تمارين السرد والحكي</h3>
                            <p>تطوير مهارات السرد والتشويق وجذب انتباه المستمعين</p>
                        </div>
                        <span class="difficulty medium">متوسط</span>
                    </div>

                    <div class="exercise hard-level" onclick="startExercise('speed')">
                        <div>
                            <i class="fas fa-tachometer-alt" style="color: #e91e63;"></i>
                            <h3>تمارين السرعة والطلاقة</h3>
                            <p>تحسين سرعة
