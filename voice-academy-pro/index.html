<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>๐๏ธ ุฃูุงุฏูููุฉ ุฃูุฑููุงู ููููุฏุฌ</title>
    
    <!-- ุงูุฎุทูุท ูุงูุฃููููุงุช -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- ููู ุงูุชุตููู -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Meta Tags ูููุดุงุฑูุฉ -->
    <meta property="og:title" content="ุฃูุงุฏูููุฉ ุฃูุฑููุงู ููููุฏุฌ">
    <meta property="og:description" content="ููุตุฉ ุชุฏุฑูุจ ูุชูุฏูุฉ ูุฏุนููุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุชุทููุฑ ุงูููุงุฑุงุช ุงูุตูุชูุฉ ูุงูุฅููุงุก">
    <meta property="og:image" content="https://via.placeholder.com/1200x630/667eea/ffffff?text=๐๏ธ+ุฃูุงุฏูููุฉ+ุฃูุฑููุงู+ููููุฏุฌ">
    <meta property="og:url" content="https://voice-academy-pro.onrender.com">
    <meta name="twitter:card" content="summary_large_image">
    
    <!-- PWA Meta -->
    <meta name="theme-color" content="#667eea">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <!-- ุดุงุดุฉ ุงูุชุญููู -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="ai-logo">
                <i class="fas fa-brain fa-pulse"></i>
            </div>
            <h2>๐๏ธ ุฃูุงุฏูููุฉ ุฃูุฑููุงู ููููุฏุฌ</h2>
            <p>ูุฏุนูู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู</p>
            <div class="loading-bar">
                <div class="loading-progress" id="loadingProgress"></div>
            </div>
            <p id="loadingText">ุฌุงุฑู ุชุญููู ุงููุธุงู...</p>
            <!-- ุฒุฑ ูููุชุงุจุนุฉ ูู ุญุงูุฉ ุงูุชููู -->
            <button id="skipLoading" style="display: none; margin-top: 20px; padding: 10px 20px; background: white; color: #667eea; border: none; border-radius: 5px; cursor: pointer;">
                ุชุฎุทู ูุงููุชุงุจุนุฉ
            </button>
        </div>
    </div>

    <!-- ุดุงุดุฉ ุชุณุฌูู ุงูุฏุฎูู -->
    <div id="loginSection" class="section">
        <div class="container">
            <div class="login-card">
                <div class="login-header">
                    <div class="logo">
                        <i class="fas fa-microphone-alt"></i>
                    </div>
                    <h1>ุฃูุงุฏูููุฉ ุฃูุฑููุงู ููููุฏุฌ</h1>
                    <p>ููุตุฉ ุชุฏุฑูุจ ูุชุทูุฑุฉ ูุฏุนููุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู</p>
                </div>
                
                <div class="login-form">
                    <div class="input-group">
                        <label>
                            <i class="fas fa-user"></i>
                            ุงูุงุณู ุงููุงูู
                        </label>
                        <input type="text" id="userName" placeholder="ุฃุฏุฎู ุงุณูู ุงููุงูู" maxlength="50">
                        <small>ูุซุงู: ุฃุญูุฏ ูุญูุฏ ุนูู</small>
                    </div>
                    
                    <div class="input-group">
                        <label>
                            <i class="fas fa-level-up-alt"></i>
                            ูุณุชูู ุงูุฎุจุฑุฉ
                        </label>
                        <select id="userLevel">
                            <option value="beginner">ูุจุชุฏุฆ - ุฃูู ูุฑุฉ ูู ุงูุชุฏุฑูุจ ุงูุตูุชู</option>
                            <option value="intermediate">ูุชูุณุท - ูุฏู ุฎุจุฑุฉ ุฃุณุงุณูุฉ</option>
                            <option value="advanced">ูุชูุฏู - ุฎุจุฑุฉ ุฌูุฏุฉ ุฃุจุญุซ ุนู ุงูุชุทููุฑ</option>
                            <option value="professional">ูุญุชุฑู - ุฃุนูู ูู ุงููุฌุงู</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label>
                            <i class="fas fa-bullseye"></i>
                            ูุฏูู ูู ุงูุชุฏุฑูุจ
                        </label>
                        <select id="trainingGoal">
                            <option value="general">ุชุญุณูู ุนุงู ููููุงุฑุงุช ุงูุตูุชูุฉ</option>
                            <option value="broadcasting">ุงูุนูู ูู ุงูุฅุฐุงุนุฉ ูุงูุชููุฒููู</option>
                            <option value="podcasting">ุฅูุชุงุฌ ุงูุจูุฏูุงุณุช</option>
                            <option value="presentations">ุชุญุณูู ุงูุนุฑูุถ ุงูุชูุฏูููุฉ</option>
                            <option value="voice_acting">ุงูุชูุซูู ุงูุตูุชู</option>
                            <option value="teaching">ุงูุชุฏุฑูุณ ูุงูุชุนููู</option>
                        </select>
                    </div>
                    
                    <div class="button-group">
                        <button class="btn-primary" onclick="startTraining()">
                            <i class="fas fa-rocket"></i>
                            ุจุฏุก ุงูุฑุญูุฉ ุงูุชุฏุฑูุจูุฉ
                        </button>
                        
                        <button class="btn-secondary" onclick="loadExistingProfile()">
                            <i class="fas fa-upload"></i>
                            ุชุญููู ููู ุดุฎุตู ููุฌูุฏ
                        </button>
                        
                        <button class="btn-demo" onclick="startDemo()">
                            <i class="fas fa-play"></i>
                            ุนุฑุถ ุชูุถูุญู ุณุฑูุน
                        </button>
                    </div>
                    
                    <div class="login-footer">
                        <p><i class="fas fa-shield-alt"></i> ุจูุงูุงุชู ูุญููุธุฉ ุจุฃูุงู</p>
                        <p><i class="fas fa-wifi"></i> ูุนูู ุจุฏูู ุฅูุชุฑูุช</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ -->
    <div id="mainInterface" class="section hidden">
        <!-- ุดุฑูุท ุงูุชููู ุงูุนููู -->
        <nav class="top-nav">
            <div class="nav-content">
                <div class="logo-section">
                    <i class="fas fa-microphone-alt"></i>
                    <span id="userWelcome">ูุฑุญุจุงู</span>
                </div>
                
                <div class="nav-stats">
                    <div class="stat-item">
                        <i class="fas fa-star"></i>
                        <span id="userLevelDisplay">ุงููุณุชูู 1</span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-trophy"></i>
                        <span id="userPointsDisplay">0 ููุทุฉ</span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-fire"></i>
                        <span id="userStreakDisplay">0 ููู</span>
                    </div>
                </div>
                
                <div class="nav-actions">
                    <button class="nav-btn" onclick="showNotifications()" title="ุงูุฅุดุนุงุฑุงุช">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </button>
                    <button class="nav-btn" onclick="showProfile()" title="ุงูููู ุงูุดุฎุตู">
                        <i class="fas fa-user-circle"></i>
                    </button>
                    <button class="nav-btn" onclick="logout()" title="ุชุณุฌูู ุงูุฎุฑูุฌ">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </nav>

        <!-- ุงูุชุจููุจุงุช ุงูุฑุฆูุณูุฉ -->
        <div class="main-tabs">
            <button class="tab-btn active" data-tab="dashboard" onclick="switchTab('dashboard', this)">
                <i class="fas fa-tachometer-alt"></i>
                <span>ููุญุฉ ุงูุชุญูู</span>
            </button>
            <button class="tab-btn" data-tab="training" onclick="switchTab('training', this)">
                <i class="fas fa-dumbbell"></i>
                <span>ุงูุชุฏุฑูุจ</span>
            </button>
            <button class="tab-btn" data-tab="analysis" onclick="switchTab('analysis', this)">
                <i class="fas fa-chart-line"></i>
                <span>ุงูุชุญููู ุงูุฐูู</span>
            </button>
            <button class="tab-btn" data-tab="studio" onclick="switchTab('studio', this)">
                <i class="fas fa-microphone"></i>
                <span>ุงูุงุณุชูุฏูู</span>
            </button>
            <button class="tab-btn" data-tab="progress" onclick="switchTab('progress', this)">
                <i class="fas fa-chart-bar"></i>
                <span>ุงูุชูุฏู</span>
            </button>
        </div>

        <!-- ูุญุชูู ุงูุชุจููุจุงุช -->
        <div class="tab-content">
            <!-- ููุญุฉ ุงูุชุญูู -->
            <div id="dashboard" class="tab-panel active">
                <div class="dashboard-container">
                    <!-- ุจุทุงูุฉ ุงูุชุฑุญูุจ ูุน ุงููุณุงุนุฏ ุงูุฐูู -->
                    <div class="welcome-card">
                        <div class="ai-assistant">
                            <div class="ai-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="ai-message">
                                <h3>ูุฑุญุจุงู! ุฃูุง ูุณุงุนุฏู ุงูุฐูู</h3>
                                <p id="aiWelcomeMessage">ุฌุงุฑู ุชุญููู ูููู ุงูุดุฎุตู ูุฅูุดุงุก ุฎุทุฉ ุชุฏุฑูุจูุฉ ูุฎุตุตุฉ...</p>
                                <button class="btn-ai" onclick="getPersonalizedAdvice()">
                                    <i class="fas fa-lightbulb"></i>
                                    ุงุญุตู ุนูู ูุตูุญุฉ ุฐููุฉ
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- ุงูุฅุญุตุงุฆูุงุช ุงูุณุฑูุนุฉ -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon clock">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="totalMinutes">0</h3>
                                <p>ุฏูููุฉ ุชุฏุฑูุจ</p>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon check">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="completedExercises">0</h3>
                                <p>ุชูุฑูู ููุชูู</p>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon target">
                                <i class="fas fa-target"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="accuracyScore">0%</h3>
                                <p>ุฏูุฉ ุงูุฃุฏุงุก</p>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon medal">
                                <i class="fas fa-medal"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="achievementsCount">0</h3>
                                <p>ุฅูุฌุงุฒ</p>
                            </div>
                        </div>
                    </div>

                    <!-- ุงูุชูุงุฑูู ุงูููุชุฑุญุฉ -->
                    <div class="recommendations-card">
                        <h3>
                            <i class="fas fa-magic"></i>
                            ุชูุงุฑูู ููุชุฑุญุฉ ูู ุงูููู
                        </h3>
                        <div class="recommended-exercises" id="recommendedExercises">
                            <!-- ุณูุชู ููุคูุง ุจูุงุณุทุฉ JavaScript -->
                        </div>
                    </div>

                    <!-- ุงูุชูุฏู ุงููููู -->
                    <div class="daily-progress-card">
                        <h3>
                            <i class="fas fa-calendar-day"></i>
                            ุชูุฏูู ุงูููู
                        </h3>
                        <div class="progress-ring">
                            <svg class="progress-circle" width="120" height="120">
                                <circle cx="60" cy="60" r="45" stroke="#e0e0e0" stroke-width="8" fill="none"/>
                                <circle cx="60" cy="60" r="45" stroke="#4CAF50" stroke-width="8" fill="none" 
                                        stroke-dasharray="283" stroke-dashoffset="283" class="progress-circle"/>
                            </svg>
                            <div class="progress-text">
                                <span id="dailyProgressPercent">0%</span>
                                <small>ูู ุงููุฏู ุงููููู</small>
                            </div>
                        </div>
                        <div class="daily-goals">
                            <div class="goal-item completed">
                                <i class="fas fa-check"></i>
                                <span>ุชูุฑูู ุชููุณ (ููุชูู)</span>
                            </div>
                            <div class="goal-item pending">
                                <i class="fas fa-clock"></i>
                                <span>ุชูุฑูู ูุทู (ูุชุจูู)</span>
                            </div>
                            <div class="goal-item pending">
                                <i class="fas fa-clock"></i>
                                <span>ุชุณุฌูู ุตูุชู (ูุชุจูู)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ุงูุชุฏุฑูุจ -->
            <div id="training" class="tab-panel">
                <div class="training-container">
                    <div class="training-header">
                        <h2><i class="fas fa-dumbbell"></i> ูุณู ุงูุชุฏุฑูุจ</h2>
                        <p>ุงุฎุชุฑ ููุน ุงูุชูุฑูู ุงูุฐู ุชุฑูุฏ ุงูุชุฏุฑุจ ุนููู</p>
                    </div>
                    
                    <div class="exercises-grid">
                        <div class="exercise-card" onclick="startExercise('breathing')">
                            <div class="exercise-icon breathing">
                                <i class="fas fa-lungs"></i>
                            </div>
                            <h3>ุชูุงุฑูู ุงูุชููุณ</h3>
                            <p>ุชุญุณูู ุงูุชุญูู ูู ุงูุชููุณ ูุงูุตูุช</p>
                            <div class="exercise-meta">
                                <span class="difficulty easy">ุณูู</span>
                                <span class="duration">10 ุฏูุงุฆู</span>
                            </div>
                        </div>
                        
                        <div class="exercise-card" onclick="startExercise('pronunciation')">
                            <div class="exercise-icon pronunciation">
                                <i class="fas fa-spell-check"></i>
                            </div>
                            <h3>ุชูุงุฑูู ุงููุทู</h3>
                            <p>ุชุญุณูู ูุถูุญ ุงููุทู ููุฎุงุฑุฌ ุงูุญุฑูู</p>
                            <div class="exercise-meta">
                                <span class="difficulty medium">ูุชูุณุท</span>
                                <span class="duration">15 ุฏูููุฉ</span>
                            </div>
                        </div>
                        
                        <div class="exercise-card" onclick="startExercise('expression')">
                            <div class="exercise-icon expression">
                                <i class="fas fa-theater-masks"></i>
                            </div>
                            <h3>ุชูุงุฑูู ุงูุชุนุจูุฑ</h3>
                            <p>ุชุทููุฑ ุงููุฏุฑุฉ ุนูู ุงูุชุนุจูุฑ ุงูุนุงุทูู</p>
                            <div class="exercise-meta">
                                <span class="difficulty medium">ูุชูุณุท</span>
                                <span class="duration">20 ุฏูููุฉ</span>
                            </div>
                        </div>
                        
                        <div class="exercise-card" onclick="startExercise('confidence')">
                            <div class="exercise-icon confidence">
                                <i class="fas fa-user-tie"></i>
                            </div>
                            <h3>ุชูุงุฑูู ุงูุซูุฉ</h3>
                            <p>ุจูุงุก ุงูุซูุฉ ุจุงูููุณ ูุงูุญุถูุฑ</p>
                            <div class="exercise-meta">
                                <span class="difficulty medium">ูุชูุณุท</span>
                                <span class="duration">15 ุฏูููุฉ</span>
                            </div>
                        </div>
                        
                        <div class="exercise-card" onclick="startExercise('advanced')">
                            <div class="exercise-icon advanced">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <h3>ุงูุชุญุฏู ุงููุชูุฏู</h3>
                            <p>ุชูุฑูู ุดุงูู ูุฌููุน ุงูููุงุฑุงุช</p>
                            <div class="exercise-meta">
                                <span class="difficulty hard">ุตุนุจ</span>
                                <span class="duration">30 ุฏูููุฉ</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ุงูุชุญููู ุงูุฐูู -->
            <div id="analysis" class="tab-panel">
                <div class="coming-soon">
                    <i class="fas fa-chart-line fa-3x"></i>
                    <h2>ุงูุชุญููู ุงูุฐูู</h2>
                    <p>ุฌุงุฑู ุงูุชุทููุฑ...</p>
                </div>
            </div>

            <!-- ุงูุงุณุชูุฏูู -->
            <div id="studio" class="tab-panel">
                <div class="coming-soon">
                    <i class="fas fa-microphone fa-3x"></i>
                    <h2>ุงูุงุณุชูุฏูู</h2>
                    <p>ุฌุงุฑู ุงูุชุทููุฑ...</p>
                </div>
            </div>

            <!-- ุงูุชูุฏู -->
            <div id="progress" class="tab-panel">
                <div class="coming-soon">
                    <i class="fas fa-chart-bar fa-3x"></i>
                    <h2>ุชูุฑูุฑ ุงูุชูุฏู</h2>
                    <p>ุฌุงุฑู ุงูุชุทููุฑ...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ุงูููุงูุฐ ุงูููุจุซูุฉ -->
    <div id="modal" class="modal hidden">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="modalBody"></div>
        </div>
    </div>

    <!-- ุดุฑูุท ุงูุฅุดุนุงุฑุงุช -->
    <div id="notificationBar" class="notification-bar hidden">
        <div class="notification-content">
            <i class="notification-icon"></i>
            <span class="notification-text"></span>
            <button class="notification-close" onclick="closeNotification()">&times;</button>
        </div>
    </div>

    <!-- ูุดุบู ุงูุตูุช ุงูุนุงุฆู -->
    <div id="floatingPlayer" class="floating-player hidden">
        <div class="player-info">
            <i class="fas fa-play-circle"></i>
            <span>ุฌุงุฑู ุงูุชุดุบูู...</span>
        </div>
        <div class="player-controls">
            <button onclick="togglePlayPause()"><i class="fas fa-pause"></i></button>
            <button onclick="stopAudio()"><i class="fas fa-stop"></i></button>
        </div>
    </div>

    <!-- JavaScript ูุญูู ูู ุงูุฃุฎุทุงุก -->
    <script>
        console.log('๐ ุจุฏุก ุชุญููู ุฃูุงุฏูููุฉ ุฃูุฑููุงู ููููุฏุฌ...');
        
        // ูุชุบูุฑุงุช ุนุงูุฉ
        let appLoadingTimeout;
        let scriptsLoaded = 0;
        const totalScripts = 3;
        
        // ูุธุงุฆู ุงูุญูุงูุฉ ูู ุงูุฃุฎุทุงุก
        function handleScriptError(scriptName) {
            console.warn(`โ๏ธ ูุดู ุชุญููู ${scriptName}`);
            scriptsLoaded++;
            checkAllScriptsLoaded();
        }
        
        function handleScriptLoad(scriptName) {
            console.log(`โ ุชู ุชุญููู ${scriptName}`);
            scriptsLoaded++;
            checkAllScriptsLoaded();
        }
        
        function checkAllScriptsLoaded() {
            if (scriptsLoaded >= totalScripts) {
                setTimeout(initializeApp, 1000);
            }
        }
        
        // ุชููุฆุฉ ุงูุชุทุจูู
        function initializeApp() {
            try {
                if (typeof VoiceAcademyApp !== 'undefined') {
                    window.voiceAcademy = new VoiceAcademyApp();
                    console.log('โ ุชู ุชููุฆุฉ ุงูุชุทุจูู ุจูุฌุงุญ');
                } else {
                    console.warn('โ๏ธ VoiceAcademyApp ุบูุฑ ูุชููุฑุ ุชููุฆุฉ ุฃุณุงุณูุฉ...');
                    initBasicApp();
                }
            } catch (error) {
                console.error('โ ุฎุทุฃ ูู ุชููุฆุฉ ุงูุชุทุจูู:', error);
                initBasicApp();
            }
        }
        
        // ุชููุฆุฉ ุฃุณุงุณูุฉ ูู ุญุงูุฉ ูุดู ุงูุชุญููู
        function initBasicApp() {
            console.log('๐ ุชููุฆุฉ ุฃุณุงุณูุฉ ููุชุทุจูู...');
            
            // ุฅุฎูุงุก ุดุงุดุฉ ุงูุชุญููู
            const loadingScreen = document.getElementById('loadingScreen');
            const loginSection = document.getElementById('loginSection');
            
            if (loadingScreen) {
                loadingScreen.style.display = 'none';
            }
            if (loginSection) {
                loginSection.classList.add('active');
                loginSection.style.display = 'block';
            }
        }
        
        // ุฒุฑ ุชุฎุทู ุงูุชุญููู
        function showSkipButton() {
            const skipBtn = document.getElementById('skipLoading');
            if (skipBtn) {
                skipBtn.style.display = 'block';
                skipBtn.onclick = initBasicApp;
            }
        }
        
        // ุชุทุจูู ูุคูุช ูุฃู ุงูุชุญููู ุงุณุชุบุฑู ููุชุงู ุทูููุงู
        appLoadingTimeout = setTimeout(showSkipButton, 10000);
        
        // ูุธุงุฆู ุฃุณุงุณูุฉ
        function startTraining() {
            const name = document.getElementById('userName')?.value?.trim();
            if (!name) {
                alert('ูุฑุฌู ุฅุฏุฎุงู ุงุณูู ุฃููุงู');
                return;
            }
            
            if (window.voiceAcademy && typeof window.voiceAcademy.startTraining === 'function') {
                window.voiceAcademy.startTraining();
            } else {
                // ุชุทุจูู ุฃุณุงุณู
                document.getElementById('loginSection').style.display = 'none';
                document.getElementById('mainInterface').classList.remove('hidden');
                alert(`ูุฑุญุจุงู ${name}! ุชู ุชุณุฌูู ุฏุฎููู ุจูุฌุงุญ`);
            }
        }
        
        function loadExistingProfile() {
            alert('ููุฒุฉ ุชุญููู ุงูููู ุงูุดุฎุตู ุณุชุชููุฑ ูุฑูุจุงู');
        }
        
        function startDemo() {
            if (window.voiceAcademy && typeof window.voiceAcademy.startDemo === 'function') {
                window.voiceAcademy.startDemo();
            } else {
                document.getElementById('loginSection').style.display = 'none';
                document.getElementById('mainInterface').classList.remove('hidden');
                alert('ูุฑุญุจุงู ุจู ูู ุงูุนุฑุถ ุงูุชูุถูุญู!');
            }
        }
        
        function switchTab(tabName, element) {
            if (window.voiceAcademy && typeof window.voiceAcademy.switchTab === 'function') {
                window.voiceAcademy.switchTab(tabName, element);
            } else {
                // ุชุทุจูู ุฃุณุงุณู
                document.querySelectorAll('.tab-panel').forEach(panel => {
                    panel.classList.remove('active');
                });
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                const targetPanel = document.getElementById(tabName);
                if (targetPanel) targetPanel.classList.add('active');
                if (element) element.classList.add('active');
            }
        }
        
        function startExercise(exerciseType) {
            if (window.trainingSystem && typeof window.trainingSystem.startExercise === 'function') {
                window.trainingSystem.startExercise(exerciseType);
            } else {
                alert(`ุชูุฑูู ${exerciseType} ุณูุจุฏุฃ ูุฑูุจุงู! ูุธุงู ุงูุชุฏุฑูุจ ููุฏ ุงูุชุญููู.`);
            }
        }
        
        function getPersonalizedAdvice() {
            if (window.voiceAcademy && typeof window.voiceAcademy.getPersonalizedAdvice === 'function') {
                window.voiceAcademy.getPersonalizedAdvice();
            } else {
                alert('ูุตูุญุฉ ุฐููุฉ: ุงุจุฏุฃ ุจุชูุงุฑูู ุงูุชููุณ ููุญุตูู ุนูู ุฃุณุงุณ ููู!');
            }
        }
        
        function closeModal() {
            const modal = document.getElementById('modal');
            if (modal) modal.classList.add('hidden');
        }
        
        function closeNotification() {
            const notification = document.getElementById('notificationBar');
            if (notification) notification.classList.add('hidden');
        }
        
        function showNotifications() {
            alert('ุงูุฅุดุนุงุฑุงุช: ูุฏูู 3 ุฅุดุนุงุฑุงุช ุฌุฏูุฏุฉ!');
        }
        
        function showProfile() {
            alert('ุงูููู ุงูุดุฎุตู: ูุฑูุจุงู!');
        }
        
        function logout() {
            if (confirm('ูู ุชุฑูุฏ ุชุณุฌูู ุงูุฎุฑูุฌุ')) {
                location.reload();
            }
        }
        
        function togglePlayPause() {
            console.log('โฏ๏ธ ุชุดุบูู/ุฅููุงู');
        }
        
        function stopAudio() {
            const player = document.getElementById('floatingPlayer');
            if (player) player.classList.add('hidden');
        }
    </script>
    
    <!-- ุชุญููู ูููุงุช JavaScript ูุน ุญูุงูุฉ ูู ุงูุฃุฎุทุงุก -->
    <script>
        // ุชุญููู audio-processing.js
        (function() {
            const script = document.createElement('script');
            script.src = 'audio-processing.js';
            script.onload = () => handleScriptLoad('audio-processing.js');
            script.onerror = () => handleScriptError('audio-processing.js');
            document.head.appendChild(script);
        })();
        
        // ุชุญููู ai-analysis.js
        (function() {
            const script = document.createElement('script');
            script.src = 'ai-analysis.js';
            script.onload = () => handleScriptLoad('ai-analysis.js');
            script.onerror = () => handleScriptError('ai-analysis.js');
            document.head.appendChild(script);
        })();
        
        // ุชุญููู training.js
        (function() {
            const script = document.createElement('script');
            script.src = 'training.js';
            script.onload = () => handleScriptLoad('training.js');
            script.onerror = () => handleScriptError('training.js');
            document.head.appendChild(script);
        })();
        
        // ุชุญููู app.js ุฃุฎูุฑุงู
        setTimeout(() => {
            const script = document.createElement('script');
            script.src = 'app.js';
            script.onload = () => {
                handleScriptLoad('app.js');
                clearTimeout(appLoadingTimeout);
            };
            script.onerror = () => {
                handleScriptError('app.js');
                clearTimeout(appLoadingTimeout);
            };
            document.head.appendChild(script);
        }, 1000);
    </script>
</body>
</html>
